{% raw %}
<div class="reveal">
    <div class="slides">
        <section>
            <section>
                <div class="cell border-box-sizing text_cell rendered">
                    <div class="prompt input_prompt">
                    </div>
                    <div class="inner_cell">
                        <div class="text_cell_render border-box-sizing rendered_html">
                            <h1 id="Python-&#32472;&#22270;">Python &#32472;&#22270;<a class="anchor-link" href="#Python-&#32472;&#22270;">&#182;</a></h1><p>Python 有很多强大的数据分析工具，也有很多方便的绘图工具，借助这些工具可以很方便的进行一些数据分析和可视化的工作</p>
                            <hr>
                            <p>Ps：</p>
                            <ul>
                                <li><p>我当初开始学 Python 就是因为 Python 比 Matlab 好用多了</p>
                            </li>
                            <li><p>下面分享的很多内容我也只是略知一二，但是觉得很实用，所以也分享一下</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div></section>
    </section><section>
    <section>
        <div class="cell border-box-sizing text_cell rendered">
            <div class="prompt input_prompt">
            </div>
            <div class="inner_cell">
                <div class="text_cell_render border-box-sizing rendered_html">
                    <h2 id="Matploblib">Matploblib<a class="anchor-link" href="#Matploblib">&#182;</a></h2><p>路人皆知的 Matplotlib</p>
                    <hr>
                </div>
            </div>
        </div><div class="fragment" data-fragment-index="2">
        <div class="cell border-box-sizing text_cell rendered">
            <div class="prompt input_prompt">
            </div>
            <div class="inner_cell">
                <div class="text_cell_render border-box-sizing rendered_html">
                    <p>在 IPython notebook 里输入这几行，准备好环境</p>
                                            <div class="highlight"><pre><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
                                            <span class="o">%</span><span class="n">pylab</span> <span class="n">inline</span>
                                            <span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s">&#39;Arial Unicode MS&#39;</span><span class="p">,)</span>
                </pre></div>
            </div>
        </div>
    </div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
    <div class="prompt input_prompt">
    </div>
    <div class="inner_cell">
        <div class="text_cell_render border-box-sizing rendered_html">
            <p>简单的绘图</p>
                            <div class="highlight"><pre><span class="c"># 准备数据</span>
                            <span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
                            <span class="n">data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
                            <span class="c"># 绘制</span>
                            <span class="n">plot</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
                            <span class="n">plot</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
        </pre></div>
        <p>matplotlib 默认是把数据画在一张图上的</p>
        <p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.11.09.png" alt=""></p>
    </div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
        <p>如果想要分开画的话就要建 figure</p>
                    <div class="highlight"><pre><span class="n">figure</span><span class="p">()</span>
                    <span class="n">plot</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
                    <span class="n">figure</span><span class="p">()</span>
                    <span class="n">plot</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
    </pre></div>
    <p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.13.18.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
    <p>另外一种分开画的方式就是用 subplot</p>
            <div class="highlight"><pre><span class="c"># subplot</span>
            <span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
            <span class="n">title</span><span class="p">(</span><span class="s">&#39;data1&#39;</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">hist</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;14&#39;</span><span class="p">)</span>
            <span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&#39;lower left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">))</span>
            <span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>                                        <span class="c"># 1 行 2 列 第 2 张 图</span>
            <span class="n">title</span><span class="p">(</span><span class="s">&#39;data2&#39;</span><span class="p">)</span>                                      <span class="c"># 设置标题</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">hist</span><span class="p">(</span><span class="n">data2</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;24&#39;</span><span class="p">)</span>
            <span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>  <span class="c"># 设置图例以及图例的位置</span>
</pre></div>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.15.07.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>pandas 的 DataFrame 可以直接调用 plot 来画图，不过方式稍微有点不一样</p>
    <div class="highlight"><pre><span class="c"># pandas</span>
    <span class="n">figure</span><span class="p">()</span>
    <span class="n">df1</span><span class="p">,</span> <span class="n">df2</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">))</span>
    <span class="c"># subplot 1</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>    <span class="c"># fig, axes = subplots(1, 2)</span>
    <span class="n">df1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>   <span class="c"># ax=axes[0]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;data1&#39;</span><span class="p">)</span>
    <span class="c"># subplot 2</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;data2&#39;</span><span class="p">)</span>
    <span class="n">df1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>   <span class="c"># ax=axex[1]</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>以前直接用 pandas 出的一些图</p>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.29.23.png" alt=""></p>
</div>
</div>
</div></section>
</section><section>
<section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>有很多同学认为 matplotlib 的图太丑，可以用 seaborn 来美化一下</p>
<p>很简单，只需要</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
</pre></div>
<p>再画个图试试</p>
<div class="highlight"><pre><span class="c"># hist with line</span>
<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">])):</span>
    <span class="n">figure</span><span class="p">()</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">normed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s">&#39;stepfilled&#39;</span><span class="p">)</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="n">mlab</span><span class="o">.</span><span class="n">normpdf</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="s">&#39;r--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;pdf&#39;</span><span class="p">)</span>
    <span class="c"># kernel density evaluate</span>
    <span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">gaussian_kde</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="p">])</span>
    <span class="n">kernel</span> <span class="o">=</span> <span class="n">gaussian_kde</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">kernel</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="s">&#39;b--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;kde&#39;</span><span class="p">)</span>
    <span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.20.15.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>不过 seaborn 不仅仅是用来美化 matplotlib 的，主要是用它来做一些统计学的分析和画图</p>
<p>正确的玩法是这样的</p>
<div class="highlight"><pre><span class="n">dataset</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="o">|</span> <span class="n">as_list</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;reg&#39;</span><span class="p">)</span>
</pre></div>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.21.53.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>或者这样的</p>
<div class="highlight"><pre><span class="n">figure</span><span class="p">()</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;boxplot&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">figure</span><span class="p">()</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;violinplot&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.23.14.png" alt=""></p>
</div>
</div>
</div></section>
</section><section>
<section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>扯回到 matplotlib，除了能画二维图（饼图、线图、xx图）外，它还可以画三维图</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="c"># import matplotlib.animation as animation</span>
<span class="n">n_grid</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">data3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">data3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">i</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">data3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">data3</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">data3</span><span class="p">])</span>
<span class="n">data3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data3</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_grid</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_grid</span><span class="p">)</span>
<span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
<span class="n">Z</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data3</span><span class="p">:</span>
    <span class="n">_z</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">n_grid</span><span class="p">)</span>
    <span class="n">Z</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_z</span><span class="p">)</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="n">my_cmap</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s">&#39;summer&#39;</span><span class="p">)</span>
<span class="c"># my_cmap.set_under(&#39;w&#39;)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">surf</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot_surface</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">rstride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cstride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>就可以画一座正态山</p>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-23 下午10.26.26.png" alt=""></p>
</div>
</div>
</div></section>
</section><section>
<section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>聊完 2D 和 3D，接下来来看看动画</p>
<p>matploblib 已经自带了 animate 模块，但据说不太好使。</p>
<p>我以前分享过一个叫做 moviepy 的库，这个库除了可以用来截邪恶的 gif，还可以用来方便的通过 matplotlib 或 numpy 制作动画</p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;TkAgg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">moviepy.video.io.bindings</span> <span class="kn">import</span> <span class="n">mplfig_to_npimage</span>
<span class="kn">import</span> <span class="nn">moviepy.editor</span> <span class="kn">as</span> <span class="nn">mpy</span>
<span class="c"># DRAW A FIGURE WITH MATPLOTLIB</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">fig_mpl</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">)</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span> <span class="c"># the x vector</span>
<span class="n">zz</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sinc</span><span class="p">(</span><span class="n">xx</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xx</span><span class="o">+</span><span class="n">d</span><span class="p">)</span> <span class="c"># the (changing) z vector</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&quot;Elevation in y=0&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">zz</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c"># ANIMATE WITH MOVIEPY (UPDATE THE CURVE FOR EACH t). MAKE A GIF.</span>
<span class="k">def</span> <span class="nf">make_frame_mpl</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span> <span class="n">zz</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="o">/</span><span class="n">duration</span><span class="p">))</span>  <span class="c"># &lt;= Update the curve</span>
    <span class="k">return</span> <span class="n">mplfig_to_npimage</span><span class="p">(</span><span class="n">fig_mpl</span><span class="p">)</span>        <span class="c"># RGB image of the figure</span>
<span class="n">animation</span> <span class="o">=</span><span class="n">mpy</span><span class="o">.</span><span class="n">VideoClip</span><span class="p">(</span><span class="n">make_frame_mpl</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
<span class="n">animation</span><span class="o">.</span><span class="n">write_gif</span><span class="p">(</span><span class="s">&quot;sinc_mpl.gif&quot;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="http://laisky-blog.qiniudn.com/sinc_mpl.gif" alt=""></p>
</div>
</div>
</div></section>
</section><section>
<section>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">有时候除了出图</span><span class="err">，</span><span class="n">还希望借助图形来直观的调试</span><span class="err">，</span><span class="n">这时候就可以用</span> <span class="n">IPython</span> <span class="n">的</span> <span class="n">interact</span> <span class="n">功能</span>
</pre></div>
</div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="o">%</span><span class="n">pylab</span> <span class="n">inline</span>
<span class="c"># 引入 interact 模块</span>
<span class="kn">from</span> <span class="nn">IPython.html.widgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">IntSliderWidget</span>
<span class="c"># 把之前的画图函数改写成依赖于参数的函数</span>
<span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">steps_</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">steps_</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="c"># 使用 interact 来交互式的调试参数</span>
<span class="n">draw</span><span class="p">(</span>
    <span class="n">test_interact</span><span class="p">,</span>
     <span class="c"># 为每一个参数设定一个 interact 控件</span>
     <span class="n">min_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>        <span class="c"># 最小值</span>
                          <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>       <span class="c"># 最大值</span>
                          <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>       <span class="c"># 每次调节的步长</span>
                          <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>     <span class="c"># 初始值</span>
     <span class="n">max_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
     <span class="n">steps_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>这样就可以交互式的调试结果了</p>
<p><img src="http://laisky-blog.qiniudn.com/srceen_shot 2015-04-24 上午10.40.51.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>但是这种方法还有个缺陷，虽然画图是交互了，但是图片还是不能交互</p>
<p>要解决这个问题，可以考虑用 nvd3</p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>创建一个 notebook，把这段代码放到第一个 cell</p>
<div class="highlight"><pre><span class="o">%</span><span class="n">pylab</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">nvd3</span>
<span class="kn">from</span> <span class="nn">nvd3</span> <span class="kn">import</span> <span class="n">scatterChart</span>
<span class="n">nvd3</span><span class="o">.</span><span class="n">ipynb</span><span class="o">.</span><span class="n">initialize_javascript</span><span class="p">(</span><span class="n">use_remote</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.html.widgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">IntSliderWidget</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="k">def</span> <span class="nf">test_interact</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">steps_</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">steps_</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="c"># 创建 nvd3 画布</span>
    <span class="n">chart</span> <span class="o">=</span> <span class="n">scatterChart</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">resize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="c"># 设定一些额外的属性</span>
    <span class="c"># tooltip 是当鼠标移上数据点的时候，显示的提示</span>
    <span class="n">extra_seris</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;y_start&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;y_end&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">}}</span>
    <span class="c"># 可以使用的数据点的样式</span>
    <span class="n">shapes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;circle&#39;</span><span class="p">,</span> <span class="s">&#39;cross&#39;</span><span class="p">,</span> <span class="s">&#39;triangle-up&#39;</span><span class="p">,</span>
              <span class="s">&#39;triangle-down&#39;</span><span class="p">,</span> <span class="s">&#39;diamond&#39;</span><span class="p">,</span> <span class="s">&#39;square&#39;</span><span class="p">]</span>
    <span class="c"># 设定绘制图形的属性</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;shape&#39;</span><span class="p">:</span> <span class="n">shapes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;size&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">}</span>
    <span class="c"># 在画布上添加图形</span>
    <span class="n">chart</span><span class="o">.</span><span class="n">add_serie</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;GROUP&#39;</span><span class="p">,</span>
                    <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
                    <span class="n">extra</span><span class="o">=</span><span class="n">extra_seris</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c"># chart 返回 HTML 代码，用 IPython 来显示</span>
    <span class="n">html</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">chart</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">html</span><span class="p">))</span>
<span class="c"># 使用 interact 来交互式的调试参数</span>
<span class="n">interact</span><span class="p">(</span><span class="n">test_interact</span><span class="p">,</span>
         <span class="c"># 为每一个参数设定一个 interact 控件</span>
         <span class="n">min_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>        <span class="c"># 最小值</span>
                              <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>       <span class="c"># 最大值</span>
                              <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>       <span class="c"># 每次调节的步长</span>
                              <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>     <span class="c"># 初始值</span>
         <span class="n">max_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
         <span class="n">steps_</span><span class="o">=</span><span class="n">IntSliderWidget</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>然后就会得到一个很不错的交互图表</p>
<p><img src="http://laisky-blog.qiniudn.com/屏幕快照-2014-08-31-下午6.00.28-2.png" alt=""></p>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>python-nvd3 只是生成一大堆 HTML 和 js 的代码，所以我们当然可以干一些邪恶的事情</p>
</div>
</div>
</div><div class="fragment" data-fragment-index="25">
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>tooltip 太无聊，我们改改</p>
<div class="highlight"><pre><span class="c"># 这个函数的功能是替换 python-nvd3 生成的 HTML代码</span>
<span class="c"># 参数 nodes 是一个形如 [{‘id’: name, ‘x’: 1, &#39;y&#39;: 2, &#39;value&#39;: 23}, {}, ...] 的数据块</span>
<span class="c"># 让 tooltip 去遍历 nodes，找出 x 和 y 匹配的 node， 然后显示其 id 值</span>
<span class="k">def</span> <span class="nf">replace_tooltip</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">nodes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change the D3 chart&#39;s tooltip</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tooltip_content</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">        chart.tooltipContent(function(key, y, e, graph) {{</span>
<span class="s">            var nodes = {0};</span>
<span class="s">            var content = &#39;&#39;;</span>
<span class="s">            var group = Number(key.split(&#39;_&#39;)[1]);</span>
<span class="s">            var x = graph.point.x;</span>
<span class="s">            var y = graph.point.y;</span>
<span class="s">            for(var i in nodes){{</span>
<span class="s">                var point = nodes[i];</span>
<span class="s">                if(point[&#39;x&#39;] == x &amp;&amp; point[&#39;y&#39;] == y){{</span>
<span class="s">                    content += &#39;&#39; + point[&#39;id&#39;] + &#39;&#39;;</span>
<span class="s">                    break;</span>
<span class="s">                }}</span>
<span class="s">            }}</span>
<span class="s">            content += x.toString() + &#39; &#39; + y.toString();</span>
<span class="s">            return content;</span>
<span class="s">        }});</span>
<span class="s">    &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">nodes</span><span class="p">))</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;\bchart.tooltipContent[.\S\s]*&#39;</span>
                   <span class="s">&#39;return tooltip_str;\s*\}\);&#39;</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">tooltip_content</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>
</pre></div>
</div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>显示的点也太无聊了，改改改</p>
<div class="highlight"><pre><span class="c"># 这个函数也是替换 python-nvd3 生成的 HTML</span>
<span class="c"># nodes 的结构同上</span>
<span class="c"># anomaly 是一个形如 [id, id] 的列表</span>
<span class="c"># 其实原理和上面的一样，都是根据 x 和 y 匹配，然后修改 nvd3 的数据集 DATA_TCS （TCS是我的画布名，这个的命名规则是 DATA_，你可以去看自己的 python-nvd3 生成的 HTML 代码）</span>
<span class="k">def</span> <span class="nf">mark_anomalies_axis</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">anomalies</span><span class="p">,</span> <span class="n">html</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mark the anomalies points</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">anoma_ls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">anomaly</span> <span class="ow">in</span> <span class="n">anomalies</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">anomaly</span><span class="p">:</span>
                <span class="n">anoma_ls</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">],</span> <span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="n">node</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]})</span>
    <span class="n">_mark_anoma_js</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">    anomalies = {0};</span>
<span class="s">    // mark anomalies</span>
<span class="s">    for(var ia in anomalies) {{</span>
<span class="s">        anoma = anomalies[ia];</span>
<span class="s">        for(var ig in data_TCS) {{</span>
<span class="s">            var group = data_TCS[ig];</span>
<span class="s">            for(var ip in group[&#39;values&#39;]) {{</span>
<span class="s">                var p = group[&#39;values&#39;][ip];</span>
<span class="s">                if(p[&#39;x&#39;]==anoma[&#39;x&#39;] &amp;&amp; p[&#39;y&#39;]==anoma[&#39;y&#39;]) {{</span>
<span class="s">                    p[&#39;size&#39;] = 0.9;</span>
<span class="s">                    break;</span>
<span class="s">                }}</span>
<span class="s">            }}</span>
<span class="s">        }}</span>
<span class="s">    }}</span>
<span class="s">    nv.addGraph(function() {{</span>
<span class="s">    &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">anoma_ls</span><span class="p">))</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;\bnv\.addGraph\(function\(\) {&#39;</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">_mark_anoma_js</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>
</pre></div>
</div>
</div>
</div></section><section>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>然后就可以画出这样的图</p>
<p><img src="http://laisky-blog.qiniudn.com/屏幕快照-2014-08-31-下午6.21.47.png" alt=""></p>
</div>
</div>
</div></section>
</section>
</div>
</div>
<!-- <script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script> -->
<script>
// Full list of configuration options available here: https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
controls: true,
progress: true,
history: true,
theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none
// Optional libraries used to extend on reveal.js
dependencies: [
{ src: "reveal.js/lib/js/classList.js", condition: function() { return !document.body.classList; } },
{ src: "reveal.js/plugin/notes/notes.js", async: true, condition: function() { return !!document.body.classList; } }
]
});
</script>
<!-- Loading mathjax macro -->
<!-- Load mathjax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [ ['$','$'], ["\\(","\\)"] ],
displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
processEscapes: true,
processEnvironments: true
},
// Center justify equations in code and markdown cells. Elsewhere
// we use CSS to left justify single line equations in code cells.
displayAlign: 'center',
"HTML-CSS": {
styles: {'.MathJax_Display': {"margin": 0}},
linebreaks: { automatic: true }
}
});
</script>
<!-- End of mathjax configuration -->
<script>
Reveal.addEventListener( 'slidechanged', function( event ) {
window.scrollTo(0,0);
MathJax.Hub.Rerender(event.currentSlide);
});
</script>
{% endraw %}